{"version":3,"file":"static/js/952.2c4f16de.chunk.js","mappings":"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","sources":["FormValidation/Validators.js","webpack://01-first-project/./src/components/profile/myPosts/MyPosts.module.scss?5585","webpack://01-first-project/./src/components/profile/myPosts/post/Post.module.scss?1e1a","components/profile/myPosts/post/Post.js","components/profile/AddNewPostForm/AddNewPostForm.js","components/profile/myPosts/MyPosts.js","components/profile/myPosts/MyPostsСontainer.js","webpack://01-first-project/./src/components/profile/profileInfo/ProfileInfo.module.scss?38a0","components/profile/profileInfo/ProfileStatusWithHooks.js","components/profile/profileInfo/ProfileInfo.js","components/profile/Profile.js","components/profile/ProfileContainer.js","hoc/withAuthRedirect.js","webpack://01-first-project/./src/FormValidation/Validators.module.scss?bff7"],"sourcesContent":["import * as Yup from 'yup'\n\nconst EMAIL_VALIDATION = Yup.string()\n  //проверка email на текст@текст.текст\n  .email('Invalid email format')\n  //максимальная длина - 30 символов\n  .max(30, 'Nice try, nobody has a first name that long')\n  .required('Required')\n\nconst PASSWORD_VALIDATION = Yup.string()\n  .min(8, 'Must be longer than 8 characters')\n  .required('Required')\n\nconst NEW_POST_TEXT_VALIDATION = Yup.string()\n  //максимальная длина - 1000 символов\n  .max(1000, 'Must be less  than 1000 characters')\n  .required('Required')\n\n  const NEW_MESSAGE_TEXT_VALIDATION = Yup.string()\n     .max(500, 'Must be less  than 500 characters')\n     .required('Required')\n\nexport const LoginSchema = Yup.object().shape({\n  email: EMAIL_VALIDATION,\n  password: PASSWORD_VALIDATION,\n})\n\nexport const PostSchema = Yup.object().shape({\n  newPostText: NEW_POST_TEXT_VALIDATION\n})\n\nexport const MessageSchema = Yup.object().shape({\n  newMessageText: NEW_MESSAGE_TEXT_VALIDATION,\n})","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__kEF9P\",\"postsBlock__posts\":\"MyPosts_postsBlock__posts__Ejdve\"};","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__-BUTX\"};","import s from './Post.module.scss'\n\nconst Post = (props) => {\n  return (\n    <div className={s.post}>\n      <img\n        src=\"https://i.pinimg.com/originals/f1/9c/f5/f19cf5aaa0ea38889c940c12d8ab41b9.jpg\"\n        alt=\"\"\n      />\n      {props.message}\n      <div>\n        <span>{props.likesCount}</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Post\n","import { useFormik } from 'formik'\nimport {PostSchema} from '../../../FormValidation/Validators'\nimport styles from '../../../FormValidation/Validators.module.scss'\n\nconst AddNewPostForm = (props) => {\n  const formik = useFormik({\n    initialValues: {\n      newPostText: '',\n    },\n    onSubmit: props.onSubmit,\n    validationSchema: PostSchema,\n  })\n  //достаем из формика ошибку\n  const hasError = formik.errors.newPostText\n  return (\n    <form onSubmit={formik.handleSubmit}>\n      {/* если есть ошибка hasError, то использовать класс styles.error, иначе ничего */}\n      <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n        <textarea\n          id=\"newPostText\"\n          name=\"newPostText\"\n          type=\"textarea\"\n          onChange={formik.handleChange}\n          value={formik.values.newPostText}\n        />\n        <div>{hasError && <span>{hasError}</span>}</div>\n      </div>\n      <div>\n        <button type=\"submit\">Add post</button>\n      </div>\n    </form>\n  )\n}\nexport default AddNewPostForm\n","import React from 'react'\nimport s from './MyPosts.module.scss'\nimport Post from './post/Post'\nimport AddNewPostForm from '../AddNewPostForm/AddNewPostForm'\n\n//тупой компонент,запускает ф-ю которая в него пришла addPost и в эту функцию передает text\nconst MyPosts = React.memo((props) => {\n  //перебирам массив с постами, и создаем новый в виде jsx\n  //'Post' это компонент,в который мы передаем пропcы (message, likesCount) из массива posts\n  let postsElement = props.posts.map((p, index) => (\n    <Post\n      key={`postsElement_${index}`}\n      message={p.message}\n      likesCount={p.likesCount}\n    />\n  )).reverse()\n\n  //при клике на кнопку вызываетcя колбэк, который берется из MyPostsContainer и оттуда добавляет пост\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText)\n  }\n\n  return (\n    <div className={s.postsBlock}>\n      <h3>My posts</h3>\n      {/* rкогда в форме будет сабмит, т.е. когда форма соберет данные, то вызвать колбэк  */}\n      <AddNewPostForm onSubmit={onAddPost} />\n\n      <div className={s.postsBlock__posts}>{postsElement}</div>\n    </div>\n  )\n})\n\nexport default MyPosts\n","import { connect } from 'react-redux'\nimport {addPostActionCreator} from '../../../redux/profile-reducer'\nimport MyPosts from './MyPosts'\n\n//ф-я мапит стейт на пропсы (превращает часть стейта в пропсы)\n//настраивает свойства,которые мы берем из стейта\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n  }\n}\n\n//настраивает колбэки, которые мы будем отправлять в презент.компонент\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    //ф-я добавляет пост\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText))\n    },\n  }\n}\n\n//connect настраивает контейнерный компонент, который служит оберткой для презентационного-чистого компонента MyPosts\n//MyPosts законектили к стору\n//сюда придут посты\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer\n","// extracted by mini-css-extract-plugin\nexport default {\"profileImg\":\"ProfileInfo_profileImg__JHcdW\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__UM-7L\"};","import React, { useState, useEffect } from 'react'\n\nconst ProfileStatusWithHooks = (props) => {\n  //типа локальный стейт\n  //useState возвращает массив\n  //В первом элементе массива первое значение стейта, вторым элементом является ф-я которая будет изменять первый элемент.\n  //Деструктурирующее присваивание : editMode = 0 элемент массива (false); setEditMode = 1 элемент (ф-я)\n  let [editMode, setEditMode] = useState(false)\n  //второй типа локальный стейт\n  let [status, setStatus] = useState(props.status)\n\n  // [] чтобы useEffect запускался не всегда, а только один раз в момент когда компонент самый первый раз вмонтировался \n  //или при изменении зависимости в нем\n  useEffect(() => {\n    setStatus(props.status)\n  }, \n  //если статус при отрисовке будет другим, то эффект перезапустится\n  [props.status])\n\n  //при клике на span вызывается activateEditMode, которая меняет стейт на true, тогда вместо спана пояаится инпут\n  const activateEditMode = () => {\n    setEditMode(true)\n  }\n  //при потере фокуса инпутом, изменить стейт на false, тогда вместо инпута появится спан\n   const deactivateEditMode = () => {\n     setEditMode(false)\n     props.updateStatus(status)\n   }\n\nconst onStatusChange = (e) => {\n  //узнаем новое значение (e.currentTarget.value) и меняем статус в локальном стейте\n    setStatus(e.currentTarget.value)\n}\n\n  return (\n    <div>\n      {!editMode && (\n        <div>\n          <span onDoubleClick={activateEditMode}>{props.status || '---'}</span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            onBlur={deactivateEditMode}\n            autoFocus={true}\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ProfileStatusWithHooks\n","import s from './ProfileInfo.module.scss'\nimport Preloader from '../../common/preloader/Preloader'\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\n\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\n  //если профайла нет\n  if (!profile) {\n    return <Preloader />\n  }\n\n  return (\n    <div>\n        <div className={s.profileImg}>\n        <img\n          src=\"https://cs8.pikabu.ru/post_img/big/2016/03/29/6/1459241134114051877.jpg\"\n          alt=\"\"\n        />\n      </div> \n      <div className={s.descriptionBlock}>\n        <img src={profile.photos.large} alt=\"\" />\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileInfo\n","import React from 'react'\nimport MyPostsContainer from './myPosts/MyPostsСontainer'\n//import s from './Profile.module.scss'\nimport ProfileInfo from './profileInfo/ProfileInfo'\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useEffect } from 'react'\nimport Profile from './Profile'\nimport { connect } from 'react-redux'\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer'\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\nimport { useParams } from 'react-router-dom'\nimport {useDispatch} from \"react-redux\";\nimport { compose } from 'redux'\n\nfunction ProfileContainer(props) {\n  // когда будем писать на хуках, будет юзаться для того чтоб диспатчить экшины и thunk в стор из функциональных компонетов\n  const dispatch = useDispatch()\n  const params = useParams()\n   if (!params.userId) {\n     params.userId = props.autorizedUserId\n   }\n  //хук принимает колбэк и массив 'зависимостей', при изменении этих зависимостей будет вызываться колбэк (чтобы ф-я вызвалась один раз при загрузке страницы)\n  useEffect(() => {\n    dispatch(getUserProfile(params.userId))\n    dispatch(getStatus(params.userId))\n  }, [])\n  //раскрыть то что в пропсах и вставить как атрибуты в профайл */\n  //и добавить кроме тех пропсов что пришли в Profile из вне - profile из mapStateToProps\n  //компонент Profile получает в пропсах profile\n  return (\n    <Profile\n      {...props}\n      profile={props.profile}\n      status={props.status}\n      updateStatus={props.updateStatus}\n    />\n  )\n}\n\n//когда ф-я возвращает объект нужно ставить круглые скобки.\nlet mapStateToProps = (state) => ({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  autorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n})\n\n//compose ф-я, которая позволяет получить результат одной функци, а потом обработать его при помощи другой функции\nexport default compose(\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\n  //вызываем HOC и кладем ему в параметр Profile\n  withAuthRedirect\n)(ProfileContainer)\n","import React from \"react\";\nimport { connect } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\n\n  let mapStateToPropsForRedirect = (state) => ({\n    //теперь в диалоги придет флаг, зарегистрированы мы или нет\n    isAuth: state.auth.isAuth\n  })\n//в ф-ю withAuthRedirect будут приходить разные целевые компоненты (напр. Dialogs, Profile)\n//и будет создаваться RedirectComponent для каждого целевого компонента, с логикой, которая будет использоваться для каждого целевого комп.\nexport const withAuthRedirect = (Component) =>{\n  class RedirectComponent extends React.Component {\n    render() {\n      //если пользователь не залогинен, то перебросить его на страницу регистрации\n      if (!this.props.isAuth) return <Navigate to=\"/login\" />\n      //все пропсы, которые попали в контейн.компонент с помощью деструктуризации прокидываются в целевой компонент\n      return <Component {...this.props} />\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n\n  return ConnectedAuthRedirectComponent\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"Validators_formControl__jAQ27\",\"error\":\"Validators_error__Xq-TW\",\"formSummaryError\":\"Validators_formSummaryError__sZQDQ\"};"],"names":["EMAIL_VALIDATION","Yup","email","max","required","PASSWORD_VALIDATION","min","NEW_POST_TEXT_VALIDATION","NEW_MESSAGE_TEXT_VALIDATION","LoginSchema","shape","password","PostSchema","newPostText","MessageSchema","newMessageText","props","className","s","src","alt","message","likesCount","formik","useFormik","initialValues","onSubmit","validationSchema","hasError","errors","handleSubmit","styles","id","name","type","onChange","handleChange","value","values","React","postsElement","posts","map","p","index","reverse","addPost","connect","state","profilePage","dispatch","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","e","currentTarget","onBlur","updateStatus","autoFocus","profile","photos","large","Preloader","compose","autorizedUserId","auth","userId","isAuth","getUserProfile","getStatus","withAuthRedirect","useDispatch","params","useParams","mapStateToPropsForRedirect","Component","RedirectComponent","this","to"],"sourceRoot":""}